<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>INSPIRE grids — bkg_grid • ffm</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="INSPIRE grids — bkg_grid"><meta name="description" content='Retrieve geometries of INSPIRE-compliant grid geometries (also called
"GeoGitter"). bkg_grid_fast() is much faster than bkg_grid_full()
by downloading heavily compressed versions grids. This happens at the cost
of data richness as bkg_grid_fast() only contains the geometries and
nothing else. Note that the arrow package needs to be installed to
use bkg_grid_fast().
Note that the output contains point geometries. Most of the times, you
want to work with rasters instead. To convert a given object out,
type the following (terra package required):
terra::rast(out)

These functions interface the GeoGitter product of the BKG.'><meta property="og:description" content='Retrieve geometries of INSPIRE-compliant grid geometries (also called
"GeoGitter"). bkg_grid_fast() is much faster than bkg_grid_full()
by downloading heavily compressed versions grids. This happens at the cost
of data richness as bkg_grid_fast() only contains the geometries and
nothing else. Note that the arrow package needs to be installed to
use bkg_grid_fast().
Note that the output contains point geometries. Most of the times, you
want to work with rasters instead. To convert a given object out,
type the following (terra package required):
terra::rast(out)

These functions interface the GeoGitter product of the BKG.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ffm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span> Overview</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-search"></span> Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>INSPIRE grids</h1>

      <div class="d-none name"><code>bkg_grid.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Retrieve geometries of INSPIRE-compliant grid geometries (also called
"GeoGitter"). <code>bkg_grid_fast()</code> is much faster than <code>bkg_grid_full()</code>
by downloading heavily compressed versions grids. This happens at the cost
of data richness as <code>bkg_grid_fast()</code> only contains the geometries and
nothing else. Note that the <code>arrow</code> package needs to be installed to
use <code>bkg_grid_fast()</code>.</p>
<p>Note that the output contains point geometries. Most of the times, you
want to work with rasters instead. To convert a given object <code>out</code>,
type the following (<code>terra</code> package required):</p>
<div class="sourceCode"><pre><code><span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span></code></pre></div>

<p>These functions interface the <code>GeoGitter</code> product of the BKG.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">bkg_grid_fast</span><span class="op">(</span></span>
<span>  year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2019"</span>, <span class="st">"2018"</span>, <span class="st">"2017"</span>, <span class="st">"2015"</span><span class="op">)</span>,</span>
<span>  resolution <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"100km"</span>, <span class="st">"10km"</span>, <span class="st">"5km"</span>, <span class="st">"1km"</span>, <span class="st">"250m"</span>, <span class="st">"100m"</span><span class="op">)</span>,</span>
<span>  timeout <span class="op">=</span> <span class="fl">600</span>,</span>
<span>  update_cache <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">bkg_grid_full</span><span class="op">(</span></span>
<span>  year <span class="op">=</span> <span class="st">"latest"</span>,</span>
<span>  resolution <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"100km"</span>, <span class="st">"10km"</span>, <span class="st">"5km"</span>, <span class="st">"1km"</span>, <span class="st">"250m"</span>, <span class="st">"100m"</span><span class="op">)</span>,</span>
<span>  timeout <span class="op">=</span> <span class="fl">600</span>,</span>
<span>  update_cache <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-year">year<a class="anchor" aria-label="anchor" href="#arg-year"></a></dt>
<dd><p>Version of the grid. Can be <code>"2015"</code>, <code>"2017"</code>,
<code>"2018"</code> or <code>"2019"</code>. For <code>bkg_grid_fast</code>, <code>"latest"</code>
downloads the latest version of the grid.</p></dd>


<dt id="arg-resolution">resolution<a class="anchor" aria-label="anchor" href="#arg-resolution"></a></dt>
<dd><p>Cell size of the grid. Can be <code>"100m"</code>, <code>"250m"</code>,
<code>"1km"</code>, <code>"5km"</code>, <code>"10km"</code>, or <code>"100km"</code>.</p></dd>


<dt id="arg-timeout">timeout<a class="anchor" aria-label="anchor" href="#arg-timeout"></a></dt>
<dd><p>Timeout value for the data download passed to
<code><a href="https://httr2.r-lib.org/reference/req_timeout.html" class="external-link">req_timeout</a></code>. Adjust this if your internet connection is
slow or you are downloading larger datasets.</p></dd>


<dt id="arg-update-cache">update_cache<a class="anchor" aria-label="anchor" href="#arg-update-cache"></a></dt>
<dd><p>By default, downloaded files are cached in the
<code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code> directory of R. When downloading the same data again,
the data is not downloaded but instead taken from the cache. Sometimes
this can be not the desired behavior. If you want to overwrite the cache,
pass <code>TRUE</code>. Defaults to <code>FALSE</code>, i.e. always adopt the cache
if possible.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>bkg_grid_fast</code> returns an sf dataframe with point geometries
and no features. <code>bkg_grid_full</code> also returns point geometries but
with the following additional features:</p>
<ul><li><p><code>x_sw</code>: X coordinate of the South-West corner of a grid cell</p></li>
<li><p><code>y_sw</code>: Y coordinate of the South-West corner of a grid cell</p></li>
<li><p><code>f_staat</code>: State area in the grid cell in square meters</p></li>
<li><p><code>f_land</code>: Land area in the grid cell in square meters</p></li>
<li><p><code>f_wasser</code>: Water area in the grid cell in square meters</p></li>
<li><p><code>p_staat</code>: Share of state area in the grid cell</p></li>
<li><p><code>p_land</code>: Share of land area in the grid cell</p></li>
<li><p><code>p_wasser</code>: Share of water area in the grid cell</p></li>
<li><p><code>ags</code>: Official municipality key (Amtlicher Gemeindeschlu00fcssel).
Related to the ARS but shortened to omit position 6 to 9. Structured as
follows:</p><ul><li><p>Position 1-2: Federal state</p></li>
<li><p>Position 3: Government region</p></li>
<li><p>Position 4-5: District</p></li>
<li><p>Position 6-8: Municipality</p></li>
</ul></li>
</ul><p>Note that <code>ags</code> is only included for resolutions <code>"100m"</code> and
<code>"250m"</code></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The following table gives a rough idea of how much less data
<code>bkg_grid_fast</code> needs to download for each resolution compared to
<code>bkg_grid_full</code>.</p>
<table class="table table"><tr><td><strong>Size</strong></td><td><strong>fast</strong></td><td><strong>full</strong></td></tr><tr><td>100km</td><td>0.78 kB</td><td>933 kB</td></tr><tr><td>10km</td><td>2.68 kB</td><td>1,015 kB</td></tr><tr><td>5km</td><td>3.53 kB</td><td>1,253 kB</td></tr><tr><td>1km</td><td>28.7 kB</td><td>5,249 kB</td></tr><tr><td>500m</td><td>133 kB</td><td>15,902 kB</td></tr><tr><td>250m</td><td>289 kB</td><td>53,900 kB</td></tr><tr><td>100m</td><td>1,420 kB</td><td>291,000 kB</td></tr></table></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="https://sgx.geodatenzentrum.de/web_public/gdz/dokumentation/deu/geogitter.pdf" class="external-link">GeoGitter documentation</a></p>
<p><a href="https://mis.bkg.bund.de/trefferanzeige?docuuid=02A7E63D-CAAA-4DED-B6FF-1F1E73FAF883" class="external-link">GeoGitter MIS record</a></p>
<p>Other non-administrative regions:
<code><a href="bkg_authorities.html">bkg_authorities</a>()</code>,
<code><a href="bkg_kfz.html">bkg_kfz</a>()</code>,
<code><a href="bkg_ror.html">bkg_ror</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># getFromNamespace("ffm_run_examples", ns = "ffm")()</span></span></span>
<span class="r-in"><span><span class="co"># Return a bare-bones version of the INSPIRE grid</span></span></span>
<span class="r-in"><span><span class="va">grid</span> <span class="op">&lt;-</span> <span class="fu">bkg_grid_fast</span><span class="op">(</span>year <span class="op">=</span> <span class="st">"2019"</span>, resolution <span class="op">=</span> <span class="st">"100km"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Return a fully detailed version instead</span></span></span>
<span class="r-in"><span><span class="va">grid_full</span> <span class="op">&lt;-</span> <span class="fu">bkg_grid_full</span><span class="op">(</span>resolution <span class="op">=</span> <span class="st">"5km"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">grid</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert grid to SpatRaster</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"terra"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">raster</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="va">grid_full</span><span class="op">[</span><span class="st">"p_wasser"</span><span class="op">]</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"xyz"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">raster</span>, main <span class="op">=</span> <span class="st">"Share of water area"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jonas Lieth.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

