<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Regions of authority — bkg_authorities • ffm</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Regions of authority — bkg_authorities"><meta name="description" content="Retrieve regions of administrative responsibility for job centers,
employment agencies, offices of employment agencies, regional
directorates of the Federal Employment Agency as well as local, regional,
and higher regional courts.
This function interfaces the wfs_bzb-open product of the BKG."><meta property="og:description" content="Retrieve regions of administrative responsibility for job centers,
employment agencies, offices of employment agencies, regional
directorates of the Federal Employment Agency as well as local, regional,
and higher regional courts.
This function interfaces the wfs_bzb-open product of the BKG."><meta property="og:image" content="https://jslth.github.io/ffm/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ffm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span> Overview</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-book"></span> Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="dropdown-item" href="../articles/filters.html">Filtering</a></li>
    <li><a class="dropdown-item" href="../articles/caching.html">Caching</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-search"></span> Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jslth/ffm/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Regions of authority</h1>
      <small class="dont-index">Source: <a href="https://github.com/jslth/ffm/blob/main/R/bkg_authorities.R" class="external-link"><code>R/bkg_authorities.R</code></a></small>
      <div class="d-none name"><code>bkg_authorities.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Retrieve regions of administrative responsibility for job centers,
employment agencies, offices of employment agencies, regional
directorates of the Federal Employment Agency as well as local, regional,
and higher regional courts.</p>
<p>This function interfaces the <code>wfs_bzb-open</code> product of the BKG.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">bkg_authorities</span><span class="op">(</span></span>
<span>  <span class="va">authority</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  poly <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  predicate <span class="op">=</span> <span class="st">"intersects"</span>,</span>
<span>  filter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  epsg <span class="op">=</span> <span class="fl">3035</span>,</span>
<span>  properties <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-authority">authority<a class="anchor" aria-label="anchor" href="#arg-authority"></a></dt>
<dd><p>Type of authority for which to retrieve regions of
responsibility. Must be one of <code>"employment_agencies"</code>,
<code>"employment_offices"</code>, <code>"job_centers"</code>, <code>"directorates"</code>,
<code>"local_courts"</code>, <code>"regional_courts"</code>, or
<code>"higher_regional_courts"</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Used to construct CQL filters. Dot arguments accept an R-like
syntax that is converted to CQL queries internally. These queries basically
consist of a property name on the left, an aribtrary vector on the right,
and an operator that links both sides. If multiple queries are provided,
they will be chained with <code>AND</code>. The following operators and their
respective equivalents in CQL and XML are supported:</p>
<table class="table table"><tr><td><strong>R</strong></td><td><strong>CQL</strong></td><td><strong>XML</strong></td></tr><tr><td><code>==</code></td><td><code>=</code></td><td><code>PropertyIsEqualTo</code></td></tr><tr><td><code>!=</code></td><td><code>&lt;&gt;</code></td><td><code>PropertyIsNotEqualTo</code></td></tr><tr><td><code>&lt;</code></td><td><code>&lt;</code></td><td><code>PropertyIsLessThan</code></td></tr><tr><td><code>&gt;</code></td><td><code>&gt;</code></td><td><code>PropertyIsGreaterThan</code></td></tr><tr><td><code>&gt;=</code></td><td><code>&gt;=</code></td><td><code>PropertyIsGreaterThanOrEqualTo</code></td></tr><tr><td><code>&lt;=</code></td><td><code>&lt;=</code></td><td><code>PropertyIsLessThanOrEqualTo</code></td></tr><tr><td><code>%LIKE%</code></td><td><code>LIKE</code></td><td><code>PropertyIsLike</code></td></tr><tr><td><code>%ILIKE%</code></td><td><code>ILIKE</code></td><td></td></tr><tr><td><code>%in%</code></td><td><code>IN</code></td><td><code>PropertyIsEqualTo</code> and <code>Or</code></td></tr></table><p>To construct more complex queries, you can use the <code>filter</code> argument
to pass CQL queries directly. Also note that you can switch between
CQL and XML queries using <code>options(ffm_query_language = "xml")</code>.
See also <code><a href="wfs_filter.html">wfs_filter</a></code>.</p></dd>


<dt id="arg-bbox">bbox<a class="anchor" aria-label="anchor" href="#arg-bbox"></a></dt>
<dd><p>An sf geometry or a boundary box vector of the format
<code>c(xmin, ymin, xmax, ymax)</code>. Used as a geometric filter to include
only those geometries that relate to <code>bbox</code> according to the predicate
specified in <code>predicate</code>. If an sf geometry is provided, coordinates
are automatically transformed to ESPG:25832 (the default CRS), otherwise
they are expected to be in EPSG:25832.</p></dd>


<dt id="arg-poly">poly<a class="anchor" aria-label="anchor" href="#arg-poly"></a></dt>
<dd><p>An sf geometry. Used as a geometric filter to include
only those geometries that relate to <code>poly</code> according to the predicate
specified in <code>predicate</code>. Coordinates are automatically transformed to
ESPG:25832 (the default CRS).</p></dd>


<dt id="arg-predicate">predicate<a class="anchor" aria-label="anchor" href="#arg-predicate"></a></dt>
<dd><p>A spatial predicate that is used to relate the output
geometries with the object specified in <code>bbox</code> or <code>poly</code>. For
example, if <code>predicate = "within"</code>, and <code>bbox</code> is specified,
returns only those geometries that lie within <code>bbox</code>. Can be one of
<code>"equals"</code>, <code>"disjoint"</code>, <code>"intersects"</code>, <code>"touches"</code>,
<code>"crosses"</code>, <code>"within"</code>, <code>"contains"</code>, <code>"overlaps"</code>,
<code>"relate"</code>, <code>"dwithin"</code>, or <code>"beyond"</code>. Defaults to
<code>"intersects"</code>.</p></dd>


<dt id="arg-filter">filter<a class="anchor" aria-label="anchor" href="#arg-filter"></a></dt>
<dd><p>A character string containing a valid CQL or XML filter. This
string is appended to the query constructed through <code>...</code>. Use this
argument to construct more complex filters. Defaults to <code>NULL</code>.</p></dd>


<dt id="arg-epsg">epsg<a class="anchor" aria-label="anchor" href="#arg-epsg"></a></dt>
<dd><p>An EPSG code specifying a coordinate reference system of the
output. If you're unsure what this means, try running
<code>sf::st_crs(...)$epsg</code> on a spatial object that you are working with.
Defaults to 3035.</p></dd>


<dt id="arg-properties">properties<a class="anchor" aria-label="anchor" href="#arg-properties"></a></dt>
<dd><p>Vector of columns to include in the output.</p></dd>


<dt id="arg-max">max<a class="anchor" aria-label="anchor" href="#arg-max"></a></dt>
<dd><p>Maximum number of results to return.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An sf tibble with multipolygon geometries and the following
columns:</p>
<ul><li><p><code>id</code>: Identifier of the authority region</p></li>
<li><p><code>dst_id</code>: Identifier of the authority office</p></li>
<li><p><code>uebergeord</code>: Name of the superior authority</p></li>
<li><p><code>name</code>: Name of the authority</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="query-language">Query language<a class="anchor" aria-label="anchor" href="#query-language"></a></h2>


<p>By default, WFS requests use CQL (Contextual Query Language) queries for
simplicity. CQL queries only work together with GET requests. This means
that when the URL is longer than 2048 characters, they fail.
While POST requests are much more flexible and able to accommodate long
queries, XML is really a pain to work with and I'm not confident in my
approach to construct XML queries. You can control whether to send GET or
POST requests by setting <code>options(ffm_query_language = "XML")</code>
or <code>options(ffm_query_language = "CQL")</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="https://sgx.geodatenzentrum.de/web_public/gdz/dokumentation/deu/bzb-open.pdf" class="external-link"><code>bzb-open</code> documentation</a></p>
<p><a href="https://mis.bkg.bund.de/trefferanzeige?docuuid=8A7C5BC0-F323-43C8-A80B-1B87B0A128C7" class="external-link"><code>bzb-open</code> MIS record</a></p>
<p>Other non-administrative regions:
<code><a href="bkg_area_codes.html">bkg_area_codes()</a></code>,
<code><a href="bkg_grid.html">bkg_grid</a></code>,
<code><a href="bkg_kfz.html">bkg_kfz()</a></code>,
<code><a href="bkg_ror.html">bkg_ror()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Get only local courts that are subordinates of the regional court Cottbus</span></span></span>
<span class="r-in"><span><span class="fu">bkg_authorities</span><span class="op">(</span></span></span>
<span class="r-in"><span>  authority <span class="op">=</span> <span class="st">"local_courts"</span>,</span></span>
<span class="r-in"><span>  <span class="va">uebergeord</span> <span class="op">%LIKE%</span> <span class="st">"%Cottbus"</span>,</span></span>
<span class="r-in"><span>  <span class="va">uebergeord</span> <span class="op">%LIKE%</span> <span class="st">"Landgericht%"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 6 features and 5 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: MULTIPOLYGON</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: 4532108 ymin: 3145434 xmax: 4650859 ymax: 3262405</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Projected CRS: ETRS89-extended / LAEA Europe</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id            dest_ge_nr mjbw_ge_nr uebergeord name                   geometry</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;MULTIPOLYGON [m]&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> gerichte_amt… 121104     22010104   Landgeric… Amts… (((4555550 3212841, 4555…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> gerichte_amt… 121302     22010106   Landgeric… Amts… (((4553875 3257338, 4554…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> gerichte_amt… 121101     22010101   Landgeric… Amts… (((4537996 3199068, 4538…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> gerichte_amt… 121102     22010160   Landgeric… Amts… (((4625944 3222238, 4625…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> gerichte_amt… 121102     22010102   Landgeric… Amts… (((4622937 3211905, 4623…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> gerichte_amt… 121105     22010105   Landgeric… Amts… (((4583233 3187580, 4583…</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jonas Lieth.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

